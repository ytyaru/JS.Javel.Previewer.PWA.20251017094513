# Javel形式ファイル形式定義

1. ファイル
2. フロントマター
3. 本文

## 1. ファイル

項目|値
----|--
文字コード|`UTF-8`
メタデータ|Markdownのフロントマター+YAML形式
本文|Markdown+青空文庫風
拡張子|`jv`,`javel`

　一つの作品が完結する全テキストを一つのファイルに含める。完結していることを重視する。一つのファイルで完結することを重視する。

　紙媒体の本ならば上下巻など別の冊子に分割するが、これは分割しない。但し執筆には時間がかかり、完結には更に時間がかかる。できた分だけ先に公開したい場合もある。それでも一章単位にする。つまり一つのファイル内を読めば一定の読了感を得られる単位でのみ分割すべき。分割したときは続きのテキストをWEB上から取得する必要がある。この処理が面倒なので非推奨。

### 例

````javel
---
title: 作品タイトル（100字迄）
catch: 作品キャッチコピー（35字迄）
obi: 帯文（400字迄）
---

# 見出し

　本文。

　二番目の段落。
　形式段落。

　三番目の段落。｜漢字《かんじ》。＊em強調＊。
````

## 2. フロントマター

1. 著者自身による作品の

1. メタデータ（作品概要）
2. 規模
3. リビジョン情報

```yaml
title: 作品タイトル（100字迄）
catch: 作品キャッチコピー（35字迄）
obi: |-
    帯文（400字迄）

    Javel形式で複数の段落も書ける。
first: |-
    # ${title}${sns.share}

    ${author}

    ## ${catch}

    ${obi}
last: |-
    # 完

    読了ありがとうございました！

    [拡散][感想][評価][投げ銭]
    [最初から読む]
category: 創作/小説/ファンタジー
    - 創作
    - 小説
    - ファンタジー
target:
    age: 年代(0:幼児、1:児童、2:中高生、3:社会人、4:シニア)
    sex: 性別(男女他)
tag: タグ１,タグ２
    - タグ１
    - タグ２
warn: 性,暴力,残酷
    - 性
    - 暴力
    - 残酷
keyword: 
    - キーワード１
author:
    name: 山田《やまだ》太郎《たろう》
    url: site.github
    site:
        github: https://...
    sns:
        x: https://...
        bluesky: https://...
        mastodon: https://...
        misskey: https://...
    coin:
        mona: アドレス
        btc: アドレス
    id: ULID
license: CC-BY-NC-SA
id: ULID
url:
    this:
        html:                       ページ分割されて閲覧できるWebサイトURL
            - https://...
        javel:                      原稿ファイル直リンク（Javel形式）
            - https://...
        repository:                 原稿ファイルのリビジョン管理サイト上URL（またはストレージ上URL）GitHub/Dropbox等
            - https://...
    next:                  作品を一章毎に分割している場合
        html: https://...
        javel: https://...
        repository: https://...
    prev:                  作品を一章毎に分割している場合
        html: https://...
        javel: https://...
        repository: https://...
    parent:                この作品を包含するシリーズがある場合
        html: https://...
        javel: https://...
        repository: https://...
count:
    grapheme: nnnn字（メタデータ、見出し、ルビ等を削除した本文のみの字数）
revision: 
    - {rev:0, dt:'YYYY-MM-DDThh:mm:dd+0900'}                   公開日時
    - {rev:1, dt:'YYYY-MM-DDThh:mm:dd+0900', diff:'...'}       更新日時
    - {rev:2, dt:'YYYY-MM-DDThh:mm:dd+0900', diff:'...'}       あるいはULIDにしてrevとdtを合体させたほうがいいかも {id:ULID, diff:'...'}
    - {rev:3, dt:'YYYY-MM-DDThh:mm:dd+0900', diff:'...'}
style:
    color:
        back: #000
        fore: #fff
    em:
        style: filled sesame
        color: black
ugc:        UserGeneratedContent
    page:
        width: 1920
        height: 1080
        fullscreen: true
        writingMode: vertical-rl
        minFontSize: 16
        maxLineOfChars: 40
        column:
            count: 2
            gap: 2
        lineHeight: 1.7
        letterSpacing: 0.05
        fontFamily:
            heading: 
                - ...
                - ...
            paragraph:
                - ...
                - ...
            ui:
                - ...
    comment:
        - {start:{bi:3, ni:4, ti:5}, end:{bi:3, ni:4, ti:5}, jave:"任意コメント\n\nJavel形式で書ける"}
        - {start:{bi:3, ni:4, ti:5}, end:{bi:3, ni:4, ti:5}, jave:"任意コメント\n\nJavel形式で書ける"}
```

## 3. 本文

* ブロック要素
* インライン要素

### 3-1. ブロック要素

　ブロック要素は前後に二連続改行を入れると、その内側のテキストがブロック要素になる。

Javel|HTML|概要|用途・役割
-----|----|----|----------
`# 任意`|h1〜h6|見出し|編・部・章・話など区切りを示す。CSSの`break-after`などの場所にもなる。
`(前後に二連続改行)`|p|段落|本文。
`(段落内で一改行)`|br|改行|段落内において使える。日本語固有の意味段落になる。

Javel|HTML|概要|用途・役割
-----|----|----|----------
`---`|hr|水平線|場面転換を現す`◇◆◇◆◇◆`のような記号を表示する

### 3-2. インライン要素

　インライン要素はブロック要素内における特定メタ文字で囲まれた部分を示す。

Javel|HTML|概要|用途・役割
-----|----|----|----------
`｜漢字《かんじ》`|`<ruby>漢字<rt>かんじ</rt></ruby>`|ルビ|読み仮名
`＊傍点＊`|`<em>傍点</em>`|傍点|意味を深読みさせるための傍点

Javel|HTML|概要|用途・役割
-----|----|----|----------
`〔任意テキスト〕|`<div class="warityu">任意テキスト</div>`|割注|割注
`〘括弧付き〙|`<div class="kakko-warityu">括弧付き</div>`|割注|割注

#### `<em>`

```css
text-emphasis-style: [filled/open] [dot/circle/double-circle/triangle/sesame/任意文字];
```

種別|`filled`|`open`
----|--------|------
`dot`|`•`|`◦`|
`circle`|`●`|`○`|
`double-circle`|`◉`|`◎`|
`triangle`|`▲`|`△`|
`sesame`|`﹅`|`﹆`|
`(任意文字)`|``|``|




「thoughts」は「考えたこと」や「意見」を指し、「impressions」は「受けた印象」や「感覚」を指します。thoughts は、より深く考え抜かれた意見やアイデアを複数示す際に使われ、impressions は、何かを経験して最初に抱いた漠然とした感情や感覚を指すことが多いです。

evaluationは基準に基づく総合的な評価、assessmentは評価のプロセスや判断そのもの、valuationは主に金銭的価値の評価、estimationは「見積もり」に重点を置いた大まかな評価を指します。
